<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">‡§™‡•ç‡§∞‡•ã‡§´‡•á‡§∂‡§®‡§≤ ‡§¨‡§ø‡•õ‡§®‡•á‡§∏ ‡§µ‡§ø‡§∂ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ú‡•á‡§®‡§∞‡•á‡§ü‡§∞</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Tiro+Devanagari+Hindi:ital@1&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #f0f8ff;
            --text-dark: #333;
            --text-light: #555;
            --bg-color: #eef2f7;
            --white: #ffffff;
            --border-color: #ddd;
            --input-bg: #ffffff;
        }

        body.dark-mode {
            --primary-color: #4cabff;
            --secondary-color: #2c3e50;
            --text-dark: #ecf0f1;
            --text-light: #bdc3c7;
            --bg-color: #1c2833;
            --white: #283747;
            --border-color: #444;
            --input-bg: #34495e;
        }

        body {
            font-family: 'Poppins', sans-serif;
            text-align: center;
            background-color: var(--bg-color);
            color: var(--text-dark);
            margin: 0;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 500px;
            width: 100%;
            background-color: var(--white);
            padding: 20px 30px 30px 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s;
        }
        
        .settings-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .lang-selector button {
            padding: 5px 10px;
            font-size: 0.9em;
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-light);
            cursor: pointer;
            border-radius: 6px;
            margin: 0 4px;
        }
        .lang-selector button.active {
            background-color: var(--primary-color);
            color: #fff;
            border-color: var(--primary-color);
            font-weight: bold;
        }
        
        /* Dark Mode Toggle Switch */
        .dark-mode-toggle { display: flex; align-items: center; gap: 8px; font-size: 0.9em; color: var(--text-light); }
        .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 24px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(20px); }


        h1, h2 { color: var(--primary-color); }
        h1 { font-size: 1.8em; margin-bottom: 20px; }
        h2 { font-size: 1.5em; margin-bottom: 15px; }

        .input-form { display: flex; flex-direction: column; gap: 15px; }
        .input-form input {
            width: 95%;
            padding: 12px;
            border: 1px solid var(--border-color);
            background-color: var(--input-bg);
            color: var(--text-dark);
            border-radius: 8px;
            font-size: 1em;
        }
        .input-form label {
            background-color: var(--secondary-color);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px dashed var(--primary-color);
            color: var(--text-dark);
        }
        .input-form input[type="file"] { display: none; }

        button {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        #quotes-selection-section { margin-top: 20px; }
        .quote-list {
            list-style: none;
            padding: 0;
            max-height: 250px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 8px;
        }
        .quote-item {
            padding: 12px;
            margin-bottom: 8px;
            background-color: var(--secondary-color);
            color: var(--text-dark);
            border-radius: 8px;
            cursor: pointer;
            border-left: 4px solid var(--primary-color);
            text-align: left;
        }
        .quote-item.selected {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
        }

        /* ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§°‡§ø‡§ú‡§æ‡§á‡§® */
        .business-card {
            margin-top: 25px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            background-size: cover;
            background-position: center;
            overflow: hidden;
            color: #ffffff;
            height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
        }

        .business-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5); 
            z-index: 1;
        }
        
        .business-card.theme-morning::before { background: linear-gradient(135deg, rgba(246, 211, 101, 0.6), rgba(253, 160, 133, 0.6)); }
        .business-card.theme-afternoon::before { background: linear-gradient(135deg, rgba(161, 196, 253, 0.6), rgba(194, 233, 251, 0.6)); }
        .business-card.theme-evening::before { background: linear-gradient(135deg, rgba(255, 126, 95, 0.7), rgba(254, 180, 123, 0.7)); }
        .business-card.theme-night::before { background: linear-gradient(135deg, rgba(44, 62, 80, 0.8), rgba(75, 108, 183, 0.8)); }

        .card-body, .card-footer {
            position: relative;
            z-index: 2;
            text-shadow: 1px 1px 6px rgba(0,0,0,0.7);
        }

        .card-body {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 0;
        }

        #quoteDisplay {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-style: italic;
            font-size: 1.7em;
            line-height: 1.6;
            max-width: 95%;
            text-align: center;
        }
         #quoteDisplay::before, #quoteDisplay::after { display: none; }

        .card-footer {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.4);
        }

        #userImagePreview {
            width: 75px;
            height: 75px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(255, 255, 255, 0.9);
            flex-shrink: 0;
        }
        
        .user-details { text-align: left; }
        #userNameDisplay { font-size: 1.5em; font-weight: 700; margin: 0; }
        #userContactDisplay, #userAddressDisplay { font-size: 0.9em; margin: 4px 0 0 0; opacity: 0.9; }
        .share-button { background-color: #25D366; font-size: 1.1em; margin-top: 20px; }
        .ad-container { margin: 15px auto; display: flex; justify-content: center; align-items: center; }
    </style>
    <!-- ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§™‡§® ‡§ï‡•ã‡§° 1 -->
    <script type='text/javascript' src='//pl27270386.profitableratecpm.com/75/25/24/752524902fd57d63f18f963c43e2d393.js'></script>
</head>
<body>

    <div class="container">
        
        <div class="settings-bar">
            <div class="lang-selector">
                <button id="lang-hi" class="active" onclick="setLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
                <button id="lang-en" onclick="setLanguage('en')">English</button>
            </div>
            <div class="dark-mode-toggle">
                <span id="darkModeLabel">‡§°‡§æ‡§∞‡•ç‡§ï ‡§Æ‡•ã‡§°</span>
                <label class="switch">
                    <input type="checkbox" id="darkModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <!-- ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§™‡§® ‡§ï‡•ã‡§° 2 (728x90) -->
        <div class="ad-container">
            <script type="text/javascript">
                atOptions = { 'key' : '1626f89d7ca645715c072a794b8c2cd1', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {} };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/1626f89d7ca645715c072a794b8c2cd1/invoke.js"></script>
        </div>
        
        <!-- ‡§ö‡§∞‡§£ 1: ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§´‡•â‡§∞‡•ç‡§Æ -->
        <div id="input-section">
            <h1 id="mainHeading">‡§Ö‡§™‡§®‡§æ ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§¨‡§®‡§æ‡§è‡§Ç</h1>
            <div class="input-form">
                <input type="text" id="userName" placeholder="‡§Ö‡§™‡§®‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
                <input type="tel" id="userContact" placeholder="‡§Ö‡§™‡§®‡§æ ‡§ï‡§æ‡§Ç‡§ü‡•á‡§ï‡•ç‡§ü ‡§®‡§Ç‡§¨‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)">
                <input type="text" id="userAddress" placeholder="‡§Ö‡§™‡§®‡§æ ‡§™‡§§‡§æ ‡§≤‡§ø‡§ñ‡•á‡§Ç (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)">
                <label for="userPhoto" id="photoLabel">üñºÔ∏è ‡§Ö‡§™‡§®‡•Ä ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç</label>
                <input type="file" id="userPhoto" accept="image/*">
                
                <!-- ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§™‡§® ‡§ï‡•ã‡§° 3 (300x250) -->
                <div class="ad-container">
                    <script type="text/javascript">
                        atOptions = { 'key' : 'cd469ddc961f5fee536f03697078ff56', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/cd469ddc961f5fee536f03697078ff56/invoke.js"></script>
                </div>

                <button id="showQuotesBtn" onclick="showQuotes()">‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§¶‡•á‡§ñ‡•á‡§Ç</button>
            </div>
        </div>

        <!-- ‡§ö‡§∞‡§£ 2: ‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡§®‡•á ‡§ï‡§æ ‡§∏‡•á‡§ï‡•ç‡§∂‡§® -->
        <div id="quotes-selection-section" style="display:none;">
            <h2 id="timeBasedHeading">‡§è‡§ï ‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç:</h2>
            <div class="quote-list" id="quotesList"></div>
        </div>

        <!-- ‡§ö‡§∞‡§£ 3 & 4: ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§î‡§∞ ‡§∂‡•á‡§Ø‡§∞‡§ø‡§Ç‡§ó ‡§∏‡•á‡§ï‡•ç‡§∂‡§® -->
        <div id="wishSection" style="display:none;">

            <!-- ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§™‡§® ‡§ï‡•ã‡§° 4 (468x60) -->
            <div class="ad-container">
                <script type="text/javascript">
                    atOptions = { 'key' : '293c346ff3b50409d9211f545593daba', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} };
                </script>
                <script type="text/javascript" src="//www.highperformanceformat.com/293c346ff3b50409d9211f545593daba/invoke.js"></script>
            </div>

            <div class="business-card" id="captureArea">
                <div class="card-body">
                    <p id="quoteDisplay"></p>
                </div>
                <div class="card-footer">
                    <img id="userImagePreview" src="" alt="User Photo">
                    <div class="user-details">
                        <h3 id="userNameDisplay"></h3>
                        <p id="userContactDisplay"></p>
                        <p id="userAddressDisplay"></p>
                    </div>
                </div>
            </div>
            <button class="share-button" id="shareBtn" onclick="shareWish(event)">üì§ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
            
            <!-- ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§™‡§® ‡§ï‡•ã‡§° 5 (320x50) -->
            <div class="ad-container">
                <script type="text/javascript">
                    atOptions = { 'key' : 'd60e5d2052ec60f1ebfd8f0161fc61d6', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
                </script>
                <script type="text/javascript" src="//www.highperformanceformat.com/d60e5d2052ec60f1ebfd8f0161fc61d6/invoke.js"></script>
            </div>
        </div>
    </div>

    <script>
        // --- LANGUAGE & UI TEXT ---
        let currentLanguage = 'hi';
        const uiText = {
            hi: {
                pageTitle: "‡§™‡•ç‡§∞‡•ã‡§´‡•á‡§∂‡§®‡§≤ ‡§¨‡§ø‡•õ‡§®‡•á‡§∏ ‡§µ‡§ø‡§∂ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ú‡•á‡§®‡§∞‡•á‡§ü‡§∞",
                darkModeLabel: "‡§°‡§æ‡§∞‡•ç‡§ï ‡§Æ‡•ã‡§°",
                mainHeading: "‡§Ö‡§™‡§®‡§æ ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§¨‡§®‡§æ‡§è‡§Ç",
                namePlaceholder: "‡§Ö‡§™‡§®‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç",
                contactPlaceholder: "‡§Ö‡§™‡§®‡§æ ‡§ï‡§æ‡§Ç‡§ü‡•á‡§ï‡•ç‡§ü ‡§®‡§Ç‡§¨‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)",
                addressPlaceholder: "‡§Ö‡§™‡§®‡§æ ‡§™‡§§‡§æ ‡§≤‡§ø‡§ñ‡•á‡§Ç (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)",
                photoLabelDefault: "üñºÔ∏è ‡§Ö‡§™‡§®‡•Ä ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç",
                photoLabelSelected: "‚úÖ ",
                showQuotesBtn: "‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§¶‡•á‡§ñ‡•á‡§Ç",
                morningHeading: "üåû ‡§∏‡•Å‡§™‡•ç‡§∞‡§≠‡§æ‡§§ ‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç:",
                afternoonHeading: "‚òÄÔ∏è ‡§∂‡•Å‡§≠ ‡§¶‡•ã‡§™‡§π‡§∞ ‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç:",
                eveningHeading: "üåÜ ‡§∂‡•Å‡§≠ ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ ‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç:",
                nightHeading: "üåô ‡§∂‡•Å‡§≠ ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø ‡§ï‡•ã‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç:",
                shareBtn: "üì§ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç",
                shareProcessing: "‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó...",
                shareMessage: " ‡§ï‡•Ä ‡§ì‡§∞ ‡§∏‡•á ‡§è‡§ï ‡§™‡•ç‡§Ø‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂! ‚ú®",
                alertMessage: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§´‡•ã‡§ü‡•ã ‡§ú‡§º‡§∞‡•Ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç!",
                shareError: "‡§∂‡•á‡§Ø‡§∞‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§Æ‡•á‡§ú ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§"
            },
            en: {
                pageTitle: "Professional Business Wish Card Generator",
                darkModeLabel: "Dark Mode",
                mainHeading: "Create Your Business Card",
                namePlaceholder: "Enter your full name",
                contactPlaceholder: "Enter your contact number (optional)",
                addressPlaceholder: "Enter your address (optional)",
                photoLabelDefault: "üñºÔ∏è Choose your profile photo",
                photoLabelSelected: "‚úÖ ",
                showQuotesBtn: "View Quotes",
                morningHeading: "üåû Select a Good Morning Quote:",
                afternoonHeading: "‚òÄÔ∏è Select a Good Afternoon Quote:",
                eveningHeading: "üåÜ Select a Good Evening Quote:",
                nightHeading: "üåô Select a Good Night Quote:",
                shareBtn: "üì§ Share",
                shareProcessing: "Processing...",
                shareMessage: " has sent a lovely message! ‚ú®",
                alertMessage: "Please enter your name and select a profile photo!",
                shareError: "Error in sharing. Please download the image and share manually."
            }
        };

        const allQuotes = {
            hi: {
                morning: ["‡§â‡§†‡•ã, ‡§ú‡§æ‡§ó‡•ã ‡§î‡§∞ ‡§§‡§¨ ‡§§‡§ï ‡§Æ‡§§ ‡§∞‡•Å‡§ï‡•ã ‡§ú‡§¨ ‡§§‡§ï ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø ‡§® ‡§π‡•ã ‡§ú‡§æ‡§è‡•§", "‡§π‡§∞ ‡§∏‡•Å‡§¨‡§π ‡§è‡§ï ‡§®‡§à ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§π‡•à, ‡§Ö‡§™‡§®‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ï‡•ã ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§¨‡§®‡§æ‡§è‡§Ç‡•§", "‡§è‡§ï ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§∏‡•ã‡§ö ‡§Ü‡§™‡§ï‡•á ‡§¶‡§ø‡§® ‡§ï‡•ã ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§ ‡§∏‡•Å‡§™‡•ç‡§∞‡§≠‡§æ‡§§!", "‡§Ü‡§ú ‡§ï‡§æ ‡§¶‡§ø‡§® ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§à ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§≤‡•á‡§ï‡§∞ ‡§Ü‡§è‡•§", "‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§∏‡•á ‡§¶‡§ø‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡§∞‡•á‡§Ç, ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Ç ‡§ñ‡•Å‡§¶-‡§¨-‡§ñ‡•Å‡§¶ ‡§Ü ‡§ú‡§æ‡§è‡§Ç‡§ó‡•Ä‡•§", /* ...500+ quotes as before... */],
                afternoon: ["‡§Ü‡§™ ‡§Ö‡§™‡§®‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§π‡•Ä ‡§Ü‡§ï‡§æ‡§∞ ‡§≤‡•á‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡•à‡§∏‡§æ ‡§Ü‡§™ ‡§∏‡•ã‡§ö‡§§‡•á ‡§π‡•à‡§Ç, ‡§µ‡•à‡§∏‡§æ ‡§¨‡§® ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§", "‡§¶‡§ø‡§® ‡§ï‡§æ ‡§Ü‡§ß‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§¨‡•Ä‡§§ ‡§ö‡•Å‡§ï‡§æ ‡§π‡•à, ‡§¨‡§æ‡§ï‡•Ä ‡§π‡§ø‡§∏‡•ç‡§∏‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ä‡§∞‡•ç‡§ú‡§æ‡§µ‡§æ‡§® ‡§∞‡§π‡•á‡§Ç‡•§", "‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§∏‡§æ ‡§¨‡•ç‡§∞‡•á‡§ï ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§ï‡§æ‡§Æ ‡§Æ‡•á‡§Ç ‡§ú‡•Å‡§ü ‡§ú‡§æ‡§è‡§Ç‡•§", /* ... */],
                evening: ["‡§Ö‡§∏‡•ç‡§§ ‡§π‡•ã‡§§‡§æ ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§π‡§Æ‡•á‡§Ç ‡§Ø‡§π ‡§∏‡§ø‡§ñ‡§æ‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Ö‡§Ç‡§§ ‡§≠‡•Ä ‡§ñ‡•Ç‡§¨‡§∏‡•Ç‡§∞‡§§ ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§", "‡§¶‡§ø‡§® ‡§≠‡§∞ ‡§ï‡•Ä ‡§•‡§ï‡§æ‡§® ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§Ø‡§π ‡§∂‡§æ‡§Æ ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§≤‡•á‡§ï‡§∞ ‡§Ü‡§è‡•§", "‡§á‡§∏ ‡§ñ‡•Ç‡§¨‡§∏‡•Ç‡§∞‡§§ ‡§∂‡§æ‡§Æ ‡§ï‡§æ ‡§Ö‡§™‡§®‡•á ‡§™‡•ç‡§∞‡§ø‡§Ø‡§ú‡§®‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ü‡§®‡§Ç‡§¶ ‡§≤‡•á‡§Ç‡•§", /* ... */],
                night: ["‡§ö‡§ø‡§Ç‡§§‡§æ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§ï‡§≤ ‡§ï‡•Ä ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡§ø‡§Ø‡§æ‡§Ç ‡§¶‡•Ç‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡•Ä‡§Ç, ‡§¨‡§≤‡•ç‡§ï‡§ø ‡§Ø‡§π ‡§Ü‡§ú ‡§ï‡•Ä ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§ï‡•ã ‡§õ‡•Ä‡§® ‡§≤‡•á‡§§‡•Ä ‡§π‡•à‡•§", "‡§Ö‡§§‡•Ä‡§§ ‡§ï‡•ã ‡§≠‡•Ç‡§≤ ‡§ú‡§æ‡§ì, ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§Æ‡§§ ‡§ï‡§∞‡•ã, ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§ú‡§ø‡§Ø‡•ã‡•§", "‡§è‡§ï ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡•Ä‡§Ç‡§¶ ‡§Ü‡§™‡§ï‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§î‡§∞ ‡§Æ‡§® ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§á‡§≤‡§æ‡§ú ‡§π‡•à‡•§", /* ... */]
            },
            en: {
                morning: ["Arise, awake, and stop not till the goal is reached.", "Every morning is the start of a new story, make yours a great one.", "A positive thought can change your whole day. Good morning!", "May today bring you new opportunities and success.", "Start the day with a smile, and happiness will come to you.", /* ... English quotes ... */],
                afternoon: ["You are shaped by your thoughts; what you think, you become.", "Half the day is over; stay energetic for the rest.", "Take a short break and get back to your work with new energy.", /* ... */],
                evening: ["The setting sun teaches us that endings can be beautiful too.", "After a tiring day, may this evening bring you peace.", "Enjoy this beautiful evening with your loved ones.", /* ... */],
                night: ["Worrying doesn't take away tomorrow's troubles, it takes away today's peace.", "Forget the past, don't worry about the future, live in the present.", "A good sleep is the best cure for a tired body and mind.", /* ... */]
            }
        };
        // NOTE: For brevity, only a few quotes are translated here. The full list should be added.
        allQuotes.en.morning = [...allQuotes.hi.morning.slice(0,5), "Success is not final, failure is not fatal: it is the courage to continue that counts.", "Believe you can and you're halfway there."];
        allQuotes.en.afternoon = [...allQuotes.hi.afternoon.slice(0,5), "Keep your face always toward the sunshine‚Äîand shadows will fall behind you."];
        allQuotes.en.evening = [...allQuotes.hi.evening.slice(0,5), "The evening of a well-spent life brings its lamps with it."];
        allQuotes.en.night = [...allQuotes.hi.night.slice(0,5), "The night is more alive and more richly colored than the day."];


        // --- DOM ELEMENTS ---
        const pageTitle = document.getElementById('pageTitle');
        const darkModeLabel = document.getElementById('darkModeLabel');
        const mainHeading = document.getElementById('mainHeading');
        const userNameInput = document.getElementById('userName');
        const userContactInput = document.getElementById('userContact');
        const userAddressInput = document.getElementById('userAddress');
        const photoLabel = document.getElementById('photoLabel');
        const showQuotesBtn = document.getElementById('showQuotesBtn');
        const shareBtn = document.getElementById('shareBtn');
        const darkModeToggle = document.getElementById('darkModeToggle');

        let userInfo = {};

        // --- FUNCTIONS ---
        function setLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            
            // Update UI text
            const t = uiText[lang];
            pageTitle.textContent = t.pageTitle;
            darkModeLabel.textContent = t.darkModeLabel;
            mainHeading.textContent = t.mainHeading;
            userNameInput.placeholder = t.namePlaceholder;
            userContactInput.placeholder = t.contactPlaceholder;
            userAddressInput.placeholder = t.addressPlaceholder;
            if (!document.getElementById('userPhoto').files[0]) {
                photoLabel.textContent = t.photoLabelDefault;
            }
            showQuotesBtn.textContent = t.showQuotesBtn;
            shareBtn.textContent = t.shareBtn;

            // Update language button styles
            document.getElementById('lang-hi').classList.toggle('active', lang === 'hi');
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');

            // Refresh quote list if visible
            if (document.getElementById('quotes-selection-section').style.display === 'block') {
                showQuotes(true); // pass true to indicate a refresh
            }
        }
        
        function applyTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                darkModeToggle.checked = true;
            } else {
                document.body.classList.remove('dark-mode');
                darkModeToggle.checked = false;
            }
        }

        document.getElementById('userPhoto').onchange = function() {
            const fileName = this.files[0] ? this.files[0].name : uiText[currentLanguage].photoLabelDefault;
            photoLabel.textContent = uiText[currentLanguage].photoLabelSelected + fileName;
        };
        
        function showQuotes(isRefresh = false) {
            if (!isRefresh) {
                const userName = userNameInput.value;
                const userPhotoInput = document.getElementById('userPhoto').files[0];

                if (!userName || !userPhotoInput) {
                    alert(uiText[currentLanguage].alertMessage);
                    return;
                }

                userInfo = {
                    name: userName,
                    contact: userContactInput.value,
                    address: userAddressInput.value,
                    photoFile: userPhotoInput
                };
            }
            
            document.getElementById('input-section').style.display = 'none';

            const currentHour = new Date().getHours();
            let timeOfDay, timeBasedHeadingText;
            const card = document.getElementById('captureArea');
            card.className = 'business-card'; 

            const t = uiText[currentLanguage];
            if (currentHour >= 5 && currentHour < 12) {
                timeOfDay = 'morning'; timeBasedHeadingText = t.morningHeading; card.classList.add('theme-morning');
            } else if (currentHour >= 12 && currentHour < 17) {
                timeOfDay = 'afternoon'; timeBasedHeadingText = t.afternoonHeading; card.classList.add('theme-afternoon');
            } else if (currentHour >= 17 && currentHour < 21) {
                timeOfDay = 'evening'; timeBasedHeadingText = t.eveningHeading; card.classList.add('theme-evening');
            } else {
                timeOfDay = 'night'; timeBasedHeadingText = t.nightHeading; card.classList.add('theme-night');
            }
            
            card.style.backgroundImage = `url('${backgroundImages[timeOfDay]}')`;

            const quotesToShow = allQuotes[currentLanguage][timeOfDay];
            const quotesListDiv = document.getElementById('quotesList');
            document.getElementById('timeBasedHeading').innerText = timeBasedHeadingText;
            quotesListDiv.innerHTML = '';

            quotesToShow.forEach(quote => {
                const item = document.createElement('div');
                item.className = 'quote-item';
                item.innerText = quote;
                item.onclick = () => selectQuote(item);
                quotesListDiv.appendChild(item);
            });

            document.getElementById('quotes-selection-section').style.display = 'block';
        }
        
        function selectQuote(selectedElement) {
            document.querySelectorAll('.quote-item').forEach(item => item.classList.remove('selected'));
            selectedElement.classList.add('selected');

            document.getElementById('quoteDisplay').innerText = selectedElement.innerText;
            document.getElementById('userNameDisplay').innerText = userInfo.name;
            document.getElementById('userContactDisplay').innerText = userInfo.contact ? `üìû ${userInfo.contact}` : '';
            document.getElementById('userAddressDisplay').innerText = userInfo.address ? `üìç ${userInfo.address}` : '';

            const reader = new FileReader();
            reader.onload = e => {
                document.getElementById('userImagePreview').src = e.target.result;
            }
            reader.readAsDataURL(userInfo.photoFile);

            document.getElementById('wishSection').style.display = 'block';
            document.getElementById('wishSection').scrollIntoView({ behavior: 'smooth' });
        }

        async function shareWish(event) {
            const captureElement = document.getElementById('captureArea');
            const shareButton = event.target;
            const originalText = shareButton.textContent;
            shareButton.textContent = uiText[currentLanguage].shareProcessing;
            shareButton.disabled = true;

            try {
                // *** MODIFIED CODE: Increased scale from 2 to 3 for higher resolution ***
                const canvas = await html2canvas(captureElement, { useCORS: true, logging: false, scale: 3 });
                canvas.toBlob(async function(blob) {
                    const filesArray = [new File([blob], 'business-wish-card.png', { type: 'image/png' })];
                    const shareData = {
                        files: filesArray,
                        text: `*${userInfo.name}*` + uiText[currentLanguage].shareMessage,
                        url: window.location.href
                    };
                    
                    if (navigator.canShare && navigator.canShare(shareData)) {
                        await navigator.share(shareData);
                    } else {
                        throw new Error("Web Share API not supported.");
                    }
                }, 'image/png');
            } catch (error) {
                alert(uiText[currentLanguage].shareError);
                 // *** MODIFIED CODE: Increased scale from 2 to 3 for higher resolution ***
                const canvas = await html2canvas(captureElement, { scale: 3 });
                const link = document.createElement('a');
                link.download = 'business-wish-card.png';
                link.href = canvas.toDataURL();
                link.click();
            } finally {
                shareButton.textContent = originalText;
                shareButton.disabled = false;
            }
        }
        
        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // Dark mode listener
            darkModeToggle.addEventListener('change', () => {
                const theme = darkModeToggle.checked ? 'dark' : 'light';
                localStorage.setItem('theme', theme);
                applyTheme(theme);
            });

            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'light';
            applyTheme(savedTheme);
            
            // Set initial language UI
            setLanguage(currentLanguage);
        });

        // Background images (no changes needed here)
        const backgroundImages = {
            morning: 'https://images.unsplash.com/photo-1470252649378-9c29740c9fa8?q=80&w=2070&auto=format&fit=crop',
            afternoon: 'https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=1974&auto=format&fit=crop',
            evening: 'https://images.unsplash.com/photo-1501418611786-e29f9921fe23?q=80&w=2070&auto=format&fit=crop',
            night: 'https://images.unsplash.com/photo-1507320423868-b63e9c62947a?q=80&w=2070&auto=format&fit=crop'
        };

    </script>
</body>
</html>